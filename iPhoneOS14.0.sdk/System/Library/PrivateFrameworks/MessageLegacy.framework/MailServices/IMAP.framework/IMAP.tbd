--- !tapi-tbd-v3
archs:                 [ armv7, armv7s, arm64, arm64e, i386, x86_64 ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/PrivateFrameworks/MessageLegacy.framework/MailServices/IMAP.framework/IMAP
current-version:       13
compatibility-version: 1
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e, i386, x86_64 ]
    symbols:              [ _GmailPermanentTagAllMail, _GmailPermanentTagSpam,
                            _GmailPermanentTagStarred,
                            _GmailSpecialUseAttributeImportant,
                            _IMAPAccountOfflineOperationQueuedNotification,
                            _IMAPESearchAllKey, _IMAPESearchCountKey,
                            _IMAPESearchMaxKey, _IMAPESearchMinKey,
                            _IMAPESearchTagKey,
                            _IMAPMailboxSpecialUseAttributeAll,
                            _IMAPMailboxSpecialUseAttributeArchive,
                            _IMAPMailboxSpecialUseAttributeDrafts,
                            _IMAPMailboxSpecialUseAttributeFlagged,
                            _IMAPMailboxSpecialUseAttributeJunk,
                            _IMAPMailboxSpecialUseAttributeSent,
                            _IMAPMailboxSpecialUseAttributeTrash,
                            _IMAPServerPathPrefix,
                            _MFAPSManagerDeviceTokenChangedNote,
                            _MFAuthSchemeGmailClientToken,
                            _MFAuthSchemeNewcastle, _MFAuthSchemeOAuth2Token,
                            _MFCreateArrayForMessageFlags,
                            _MFIMAPDateSearchStringForDate,
                            _MFIMAPDestinationUidSetResponseKey,
                            _MFIMAPSourceUidSetResponseKey,
                            _MFIMAPUidValidityStatusKey,
                            _MFUIDPlusInfoFromResponse,
                            __IMAPListsOnlySubscribedMailboxes,
                            __IMAPMailboxAttributesKey, _flagsFromFetchResults,
                            _tokenizeCriterionWithHandler, _uidFromFetchResults ]
    objc-classes:         [ AOLAccount, CastleIMAPAccount, GmailAccount, IMAPAccount,
                            MFAOLSMTPAccount, MFAPSManager,
                            MFBaseSyncResponseQueue, MFFetchResponseQueue,
                            MFGmailClientTokenAuthScheme, MFGmailSMTPAccount,
                            MFIMAPCommandPipeline, MFIMAPCompoundDownload,
                            MFIMAPConnection, MFIMAPConnectionFlagSearchRequest,
                            MFIMAPConnectionFlagSearchResults, MFIMAPDownload,
                            MFIMAPDownloadCache, MFIMAPFetchResult, MFIMAPMessage,
                            MFIMAPMessageDownload, MFIMAPMessageWithCache,
                            MFIMAPOfflineCopyOnStupidServerOperation,
                            MFIMAPOperation, MFIMAPOperationCache,
                            MFIMAPParseContext, MFIMAPResponse,
                            MFIMAPResponseConsumer, MFIMAPSimpleDownload,
                            MFLibraryIMAPStore, MFNewcastleAuthScheme,
                            MFNewcastleSMTPAccount, MFOAuth2TokenAuthScheme,
                            MFOSXServerIMAPAccount, MFOSXServerSMTPAccount,
                            MFSearchFetchResponseQueue, MFSearchResponseQueue,
                            MFSyncResponseQueue, MFYahooSMTPAccount, YahooAccount,
                            YahooDeliveryAccount, _MFFlagChangeEntry,
                            _MFGmailClientTokenAuthenticator, _MFIMAPFetchUnit,
                            _MFIMAPMailboxDeletionQueueEntry,
                            _MFNewcastleAuthenticator,
                            _MFOAuth2TokenAuthenticator, _MFWholeMessageSection ]
    objc-ivars:           [ IMAPAccount._cachedConnections,
                            IMAPAccount._connectionLock,
                            IMAPAccount._fetchedMailboxList,
                            IMAPAccount._flagChangesLock,
                            IMAPAccount._greatestInboxUid,
                            IMAPAccount._isOffline,
                            IMAPAccount._lockOrderingArray,
                            IMAPAccount._mailboxesToSynchronize,
                            IMAPAccount._nextConnectionTag,
                            IMAPAccount._offlineCache,
                            IMAPAccount._offlineCacheFlushHandler,
                            IMAPAccount._packetContextAssertion,
                            IMAPAccount._readBufferSize,
                            IMAPAccount._recentFlagChanges,
                            IMAPAccount._separatorChar,
                            IMAPAccount._serverNamespace,
                            IMAPAccount._timeLastFetchedMailboxList,
                            MFBaseSyncResponseQueue._connection,
                            MFBaseSyncResponseQueue._currentUID,
                            MFBaseSyncResponseQueue._isSearching,
                            MFBaseSyncResponseQueue._libraryDetails,
                            MFBaseSyncResponseQueue._missingUIDs,
                            MFBaseSyncResponseQueue._shouldCompact,
                            MFBaseSyncResponseQueue._shouldFetch,
                            MFBaseSyncResponseQueue._store,
                            MFBaseSyncResponseQueue._url,
                            MFFetchResponseQueue._connection,
                            MFFetchResponseQueue._flags,
                            MFFetchResponseQueue._highestModSequence,
                            MFFetchResponseQueue._isSearching,
                            MFFetchResponseQueue._newMessageCount,
                            MFFetchResponseQueue._numNewUIDs,
                            MFFetchResponseQueue._store,
                            MFIMAPCommandPipeline._chunkSize,
                            MFIMAPCommandPipeline._expectedSize,
                            MFIMAPCommandPipeline._fetchUnits,
                            MFIMAPCommandPipeline._full,
                            MFIMAPCommandPipeline._sending,
                            MFIMAPCompoundDownload._subdownloads,
                            MFIMAPConnection._additionalHeadersForFetch,
                            MFIMAPConnection._capabilities,
                            MFIMAPConnection._capabilityFlags,
                            MFIMAPConnection._commandNumber,
                            MFIMAPConnection._connectTime,
                            MFIMAPConnection._connectionState,
                            MFIMAPConnection._data,
                            MFIMAPConnection._expirationTime,
                            MFIMAPConnection._gotBadResponse,
                            MFIMAPConnection._lastRequiredHeaders,
                            MFIMAPConnection._lastRequiredHeadersArray,
                            MFIMAPConnection._mailboxListFilter,
                            MFIMAPConnection._noModSequence,
                            MFIMAPConnection._readBufferSize,
                            MFIMAPConnection._selectedMailbox,
                            MFIMAPConnection._separatorChar,
                            MFIMAPConnection._serverNamespace,
                            MFIMAPConnection._streamEventQueue,
                            MFIMAPConnection._tag,
                            MFIMAPConnection._verifiedESearchResponse,
                            MFIMAPDownload._countingConsumer,
                            MFIMAPDownload._mainConsumer,
                            MFIMAPDownload._pendingFetchResults,
                            MFIMAPDownload._uid, MFIMAPDownloadCache._downloads,
                            MFIMAPFetchResult._itemType,
                            MFIMAPFetchResult._modSequenceNumber,
                            MFIMAPFetchResult._typeSpecific,
                            MFIMAPMessage._customFlags, MFIMAPMessage._size,
                            MFIMAPMessage._uid, MFIMAPMessage._uniqueRemoteId,
                            MFIMAPMessageDownload._allowsPartialDownloads,
                            MFIMAPMessageDownload._doneAddingSubdownloads,
                            MFIMAPMessageDownload._fetchBodyData,
                            MFIMAPMessageDownload._fetchingBodyText,
                            MFIMAPMessageDownload._fetchingMessageContents,
                            MFIMAPMessageDownload._message,
                            MFIMAPMessageDownload._startedFetch,
                            MFIMAPMessageDownload._topLevelPart,
                            MFIMAPMessageDownload._usingPartialDownloads,
                            MFIMAPMessageWithCache._headers,
                            MFIMAPMessageWithCache._messageData,
                            MFIMAPOfflineCopyOnStupidServerOperation.internalDates,
                            MFIMAPOfflineCopyOnStupidServerOperation.messageIds,
                            MFIMAPOperation._failureCount,
                            MFIMAPOperation._mailboxName,
                            MFIMAPOperation._opSpecific,
                            MFIMAPOperation._temporaryUids,
                            MFIMAPOperation._type, MFIMAPOperationCache._account,
                            MFIMAPOperationCache._handle,
                            MFIMAPOperationCache._lastSave,
                            MFIMAPOperationCache._lastUid,
                            MFIMAPOperationCache._lastUidValidity,
                            MFIMAPOperationCache._ops,
                            MFIMAPOperationCache._opsPending,
                            MFIMAPParseContext._connection,
                            MFIMAPParseContext._end, MFIMAPParseContext._invalid,
                            MFIMAPParseContext._lastLoggedChar,
                            MFIMAPParseContext._originalEnd,
                            MFIMAPParseContext._originalStart,
                            MFIMAPParseContext._response,
                            MFIMAPParseContext._start,
                            MFIMAPSimpleDownload._complete,
                            MFIMAPSimpleDownload._error,
                            MFIMAPSimpleDownload._knownLength,
                            MFIMAPSimpleDownload._length,
                            MFIMAPSimpleDownload._offsetAdjustment,
                            MFIMAPSimpleDownload._originalDataLength,
                            MFIMAPSimpleDownload._range,
                            MFIMAPSimpleDownload._section,
                            MFLibraryIMAPStore._additionalFetchHeaders,
                            MFLibraryIMAPStore._additionalSynchronizationSearchArguments,
                            MFLibraryIMAPStore._cachedConnection,
                            MFLibraryIMAPStore._cachedConnectionLock,
                            MFLibraryIMAPStore._currentFetchUid,
                            MFLibraryIMAPStore._didSynchronizeOldMessages,
                            MFLibraryIMAPStore._downloadCache,
                            MFLibraryIMAPStore._downloadDelegate,
                            MFLibraryIMAPStore._fetchPipeline,
                            MFLibraryIMAPStore._highestModSequence,
                            MFLibraryIMAPStore._lastHighestModSequence,
                            MFLibraryIMAPStore._mailboxName,
                            MFLibraryIMAPStore._readyToDealloc,
                            MFLibraryIMAPStore._recentsExist,
                            MFLibraryIMAPStore._relativePath,
                            MFLibraryIMAPStore._reserved,
                            MFLibraryIMAPStore._selectedUID,
                            MFLibraryIMAPStore._serverDeletedCount,
                            MFLibraryIMAPStore._serverUidNext,
                            MFLibraryIMAPStore._settingServerCount,
                            MFLibraryIMAPStore._supportsCustomPermanentFlags,
                            MFLibraryIMAPStore._supportsDollarForwardedFlag,
                            MFLibraryIMAPStore._supportsDollarJunkFlag,
                            MFLibraryIMAPStore._supportsDollarNotJunkFlag,
                            MFLibraryIMAPStore._supportsForwardedFlag,
                            MFLibraryIMAPStore._supportsJunkFlag,
                            MFLibraryIMAPStore._supportsNotJunkFlag,
                            MFLibraryIMAPStore._updateMetadata,
                            MFLibraryIMAPStore._updatingCache,
                            MFOSXServerSMTPAccount._mailAccount,
                            MFSearchResponseQueue.indexSet,
                            MFSearchResponseQueue.limit,
                            MFSyncResponseQueue._shouldSyncFlags,
                            _MFFlagChangeEntry.changes,
                            _MFFlagChangeEntry.commitTime,
                            _MFFlagChangeEntry.connectionTag,
                            _MFFlagChangeEntry.path, _MFFlagChangeEntry.uid,
                            _MFIMAPMailboxDeletionQueueEntry.account,
                            _MFIMAPMailboxDeletionQueueEntry.paths,
                            _MFIMAPMailboxDeletionQueueEntry.urls,
                            _MFNewcastleAuthenticator._castleAccount,
                            _MFNewcastleAuthenticator._sentResponse,
                            _MFWholeMessageSection._dataHolder ]
undefineds:
  - archs:                [ armv7, armv7s, arm64, arm64e, i386, x86_64 ]
    symbols:              [ _ACAccountPropertyIMAPHostname,
                            _ACAccountPropertyIMAPPortNumber,
                            _ACAccountPropertyIMAPRequiresSSL,
                            _ACAccountPropertySMTPHostname,
                            _ACAccountPropertySMTPPortNumber,
                            _ACAccountPropertySMTPRequiresSSL,
                            _ACAccountStoreDidChangeNotification,
                            _ACAccountTypeIdentifierAol,
                            _ACAccountTypeIdentifierGmail,
                            _ACAccountTypeIdentifierIMAP,
                            _ACAccountTypeIdentifierIMAPMail,
                            _ACAccountTypeIdentifierYahoo,
                            _CFAbsoluteTimeGetCurrent, _CFArrayAppendArray,
                            _CFArrayAppendValue, _CFArrayBSearchValues,
                            _CFArrayCreate, _CFArrayCreateMutable,
                            _CFArrayCreateMutableCopy, _CFArrayGetCount,
                            _CFArrayGetFirstIndexOfValue,
                            _CFArrayGetLastIndexOfValue, _CFArrayGetTypeID,
                            _CFArrayGetValueAtIndex, _CFArrayRemoveAllValues,
                            _CFArrayRemoveValueAtIndex, _CFArrayReplaceValues,
                            _CFCharacterSetAddCharactersInRange,
                            _CFCharacterSetAddCharactersInString,
                            _CFCharacterSetCreateCopy,
                            _CFCharacterSetCreateMutable,
                            _CFCharacterSetCreateMutableCopy,
                            _CFCharacterSetCreateWithCharactersInRange,
                            _CFCharacterSetGetPredefined, _CFCharacterSetInvert,
                            _CFCharacterSetIsCharacterMember, _CFCopyDescription,
                            _CFDictionaryCreateMutable,
                            _CFDictionaryCreateMutableCopy,
                            _CFDictionaryGetValue, _CFDictionarySetValue, _CFEqual,
                            _CFGetTypeID, _CFMakeCollectable,
                            _CFNotificationCenterGetDarwinNotifyCenter,
                            _CFNotificationCenterPostNotification, _CFRelease,
                            _CFSetAddValue, _CFSetContainsValue,
                            _CFSetCreateMutable, _CFStringAppend,
                            _CFStringAppendCharacters, _CFStringCreateMutable,
                            _CFStringCreateMutableCopy, _CFStringCreateWithBytes,
                            _CFStringFindCharacterFromSet,
                            _CFStringGetCStringPtr, _CFStringGetCharacters,
                            _CFStringGetCharactersPtr, _CFStringGetLength,
                            _CFStringTokenizerAdvanceToNextToken,
                            _CFStringTokenizerCreate,
                            _CFStringTokenizerGetCurrentTokenRange,
                            _CFStringUppercase, _ECGetNextHeaderFromDataInRange,
                            _ECMessageHeaderKeyBCC, _ECMessageHeaderKeyCC,
                            _ECMessageHeaderKeyContentType,
                            _ECMessageHeaderKeyDate, _ECMessageHeaderKeyFrom,
                            _ECMessageHeaderKeyListID,
                            _ECMessageHeaderKeyMessageID,
                            _ECMessageHeaderKeyReferences,
                            _ECMessageHeaderKeyReplyTo,
                            _ECMessageHeaderKeySubject, _ECMessageHeaderKeyTo,
                            _ECMessageHeaderKeyUserAgent, _EFFrameworkVersion,
                            _EFIsNotNull, _EFProductName,
                            _EFStackshotWriteWithReason, _EFStringWithInt,
                            _EFStringWithUnsignedInteger, _EFSystemBuildVersion,
                            _EFSystemVersion, _GSSystemRootDirectory,
                            _H_YAHOO_MESSAGE_ID,
                            _MFAccountOfflineStatusDidChange, _MFAliasDefaultKey,
                            _MFAuthSchemeCramMd5, _MFAuthSchemeDigestMD5,
                            _MFAuthSchemeNTLM, _MFCharsetForEncoding,
                            _MFCopyResponseDataForURLRequest,
                            _MFCreateDataWithString, _MFCreateStringWithData,
                            _MFDescriptionForMessageFlags, _MFEncodingForCharset,
                            _MFLockOrderingSelfReference, _MFLogGeneral,
                            _MFLookupLocalizedString, _MFMailAccountArchive,
                            _MFMailAccountAuthenticationScheme,
                            _MFMailAccountDeliveryHostname,
                            _MFMailAccountDeliveryPortNumber,
                            _MFMailAccountDeliverySSLEnabled,
                            _MFMailAccountDescription,
                            _MFMailAccountPushedMailboxUidsDidChange,
                            _MFMailAccountUsername, _MFMessageErrorDomain,
                            _MFMessageFlagsByApplyingDictionary,
                            _MFMessageIsFlagged, _MFMessageIsJunk,
                            _MFMessageIsNotJunk, _MFMessageIsServerSearchResult,
                            _MFMessageIsThreadSearchResult,
                            _MFMessageWasRedirected, _MFMimeDataGetRangeOfHeader,
                            _MFMimePartParseContentTypeHeader,
                            _MFRemoveItemAtPath, _MFRequestedWebLoginURLKey,
                            _MFStringGetBytes, _MFUIFocusedMessageDidChange,
                            _MFUserAgent, _MFUserFriendlyErrorDescriptionKey,
                            _MailAccountContentsDidChange,
                            _MailAccountContentsDidChangeUids,
                            _MailAccountEmailAddresses, _MailAccountFullUserName,
                            _MailAccountHostname, _MailAccountPortNumber,
                            _MailAccountSSLEnabled,
                            _MailMessageStoreChangedMailboxesKey,
                            _MailMessageStoreMessageKey,
                            _MailMessageStoreMessagesAdded,
                            _MailboxAttributesKey, _MailboxChildrenKey,
                            _MailboxExtraAttributesKey, _MailboxNameKey,
                            _MailboxUserInfoDidChange, _MessageIsDeleted,
                            _MessageIsRead, _MessageWasForwarded,
                            _MessageWasRepliedTo, _NSBOOLFromString,
                            _NSCalendarIdentifierGregorian, _NSGenericException,
                            _NSLog, _NSPopAutoreleasePool, _NSPushAutoreleasePool,
                            _NSStringFromBOOL, _NSStringFromClass,
                            _NSStringFromSelector,
                            _NetworkConfigurationDidChangeNotification,
                            _PCSettingsGetPollInterval, _PCSettingsGetStyle,
                            _StoreServerCountChanged, __Block_copy,
                            __Block_object_assign, __Block_object_dispose,
                            __Block_release, __DefaultRuneLocale,
                            __MFCompareMailboxDictionariesByName,
                            __MFCreateStringFromHeaderBytes, __MFLockGlobalLock,
                            __MFUnlockGlobalLock, __NSConcreteGlobalBlock,
                            __NSConcreteStackBlock, __Unwind_Resume,
                            ___CFConstantStringClassReference,
                            ___NSArray0__struct, ___NSDictionary0__struct,
                            ___assert_rtn, ___kCFBooleanFalse, ___kCFBooleanTrue,
                            ___maskrune, ___objc_personality_v0, ___snprintf_chk,
                            ___stack_chk_fail, ___stack_chk_guard,
                            __dispatch_main_q, __objc_empty_cache,
                            __os_log_debug_impl, __os_log_error_impl,
                            __os_log_fault_impl, __os_log_impl, _bzero, _calloc,
                            _dispatch_after, _dispatch_assert_queue$V2,
                            _dispatch_async, _dispatch_get_global_queue,
                            _dispatch_once,
                            _dispatch_queue_attr_make_with_qos_class,
                            _dispatch_queue_create, _dispatch_release,
                            _dispatch_sync, _dispatch_time, _dlopen, _dlsym, _free,
                            _kAccountAuthenticationTypeParent,
                            _kAccountDataclassMail, _kCFAllocatorDefault,
                            _kCFCopyStringDictionaryKeyCallBacks, _kCFNull,
                            _kCFStreamSocketSecurityLevelNegotiatedSSL,
                            _kCFStreamSocketSecurityLevelNone,
                            _kCFTypeArrayCallBacks,
                            _kCFTypeDictionaryKeyCallBacks,
                            _kCFTypeDictionaryValueCallBacks,
                            _kCertUIServiceTypeIMAP, _kSecAttrProtocolIMAP,
                            _mach_absolute_time, _mach_timebase_info, _malloc,
                            _memchr, _memmove, _objc_alloc, _objc_allocWithZone,
                            _objc_alloc_init, _objc_autorelease,
                            _objc_autoreleasePoolPop, _objc_autoreleasePoolPush,
                            _objc_autoreleaseReturnValue, _objc_begin_catch,
                            _objc_copyWeak, _objc_destroyWeak, _objc_end_catch,
                            _objc_enumerationMutation, _objc_exception_rethrow,
                            _objc_getClass, _objc_getProperty, _objc_initWeak,
                            _objc_loadWeak, _objc_msgSend, _objc_msgSendSuper2,
                            _objc_opt_class, _objc_opt_isKindOfClass,
                            _objc_opt_respondsToSelector, _objc_release,
                            _objc_retain, _objc_retainAutoreleaseReturnValue,
                            _objc_retainAutoreleasedReturnValue,
                            _objc_setProperty_atomic,
                            _objc_setProperty_atomic_copy,
                            _objc_setProperty_nonatomic,
                            _objc_setProperty_nonatomic_copy, _objc_storeStrong,
                            _objc_terminate, _os_log_type_enabled,
                            _pthread_main_np, _pthread_mutex_lock,
                            _pthread_mutex_unlock, _realloc, _snprintf, _strlen,
                            _strncasecmp, dyld_stub_binder ]
    objc-classes:         [ AADeviceInfo, AAQuotaDepletionAlert,
                            EFCancelationToken, EFDevice, EFFuture, EFObservable,
                            EFObserver, EFPromise, EFScheduler, LocalAccount,
                            MFAccountStore, MFActivityMonitor, MFAppStateMonitor,
                            MFAuthScheme, MFBase64Decoder,
                            MFBaseFilterDataConsumer, MFBufferedDataConsumer,
                            MFBufferedQueue, MFConditionLock, MFConnection,
                            MFCountingDataConsumer, MFData, MFDataHolder,
                            MFDiagnostics, MFError, MFFetchLimits, MFInvocationQueue,
                            MFLibraryMessage, MFLibraryStore,
                            MFLineEndingConverterFilter, MFLock,
                            MFLockStateMonitor, MFMailMessage,
                            MFMailMessageStoreSearchResult, MFMailMimePart,
                            MFMailboxUid, MFMessageCriterion,
                            MFMessageDataContainer, MFMessageHeaders,
                            MFMessageKeychainManager, MFMessageTransferResult,
                            MFMessageWriter, MFMonitoredInvocation, MFMutableData,
                            MFMutableMessageHeaders, MFNetworkController,
                            MFPowerController, MFRecursiveLock,
                            MFSASLAuthenticator, MFWeakReferenceHolder,
                            MSPushRegistration, MailAccount, NSArray,
                            NSAssertionHandler, NSAutoreleasePool, NSBundle,
                            NSCalendar, NSCharacterSet, NSConstantArray,
                            NSCountedSet, NSData, NSDataDetector, NSDate,
                            NSDateFormatter, NSDictionary, NSError, NSException,
                            NSFileManager, NSInvocation, NSJSONSerialization,
                            NSLocale, NSLock, NSMutableArray, NSMutableData,
                            NSMutableDictionary, NSMutableIndexSet, NSMutableSet,
                            NSMutableString, NSMutableURLRequest, NSNotification,
                            NSNotificationCenter, NSNull, NSNumber, NSObject,
                            NSPersonNameComponents,
                            NSPersonNameComponentsFormatter, NSScanner, NSSet,
                            NSSortDescriptor, NSString, NSThread, NSURL,
                            NSURLComponents, NSURLCredential,
                            NSURLCredentialStorage, NSURLSession,
                            NSURLSessionConfiguration, NSUUID, NSUserDefaults,
                            NSValue, SMTPAccount ]
    objc-eh-types:        [ NSException ]
    objc-ivars:           [ MFConnection._isFetching,
                            MFConnection._securityLayer, MFConnection._socket,
                            MFLibraryStore._serverMessageCount,
                            MFMailMessage._messageFlags,
                            MFMailMessageStore._account,
                            MFMailMessageStore._deletedMessageCount,
                            MFMailMessageStore._deletedMessagesSize,
                            MFMailMessageStore._flags,
                            MFMailMessageStore._mailboxUid,
                            MFMailMessageStore._state,
                            MFMailMessageStore._unreadMessageCount,
                            MFMessageDetails.libraryID,
                            MFMessageDetails.messageFlags, MailAccount._flags,
                            MailAccount._inboxMailboxUid, MailAccount._library,
                            MailAccount._rootMailboxUid ]
...
