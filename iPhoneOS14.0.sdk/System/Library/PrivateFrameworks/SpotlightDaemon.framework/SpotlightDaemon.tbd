--- !tapi-tbd-v3
archs:                 [ armv7, armv7s, arm64, arm64e, i386, x86_64 ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/PrivateFrameworks/SpotlightDaemon.framework/SpotlightDaemon
current-version:       1
compatibility-version: 1
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e, i386, x86_64 ]
    symbols:              [ _BulkDeleteAttributes, _CSIndexAgentMachServiceName,
                            _CSIndexDelegateAgentMachServiceName,
                            _SDEventMonitorErrorDomain, _SDTraceAdd,
                            _SDTraceDescription, _SDTransactionCreate,
                            _SDTransactionDone, _SISynchedOpWithBlock,
                            _SISynchedOpWithBlockPropagatingPriority,
                            _SpotlightDaemonVersionNumber,
                            _SpotlightDaemonVersionString, _blockRoutine,
                            _delayedOpBlockCompleteCallback,
                            _kSecEntitlementCSDisableQuota,
                            _sClintServiceDisabledBitMap, _sSpotlightSenderState,
                            _startAgents, _startAllAgents, _startIndexAgent,
                            _syncFinished, _unpauseCallback ]
    objc-classes:         [ CSIndexAgent, CSIndexClientConnection,
                            CSIndexClientConnectionKey, CSRecieverState,
                            CSSearchAgent, CSSearchClientConnection,
                            CSSearchClientConnectionKey, MDAgent,
                            MDSearchableIndexService, SDConnectionConfiguration,
                            SDDirtyIdleTimer, SDEventMonitor, SDLockHandler,
                            SDMigrationMonitor, SDSignalHandler, SDTrace,
                            SDTraceItem, SPConcreteCoreSpotlightIndexer,
                            SPCoreSpotlightExtensionsTask,
                            SPCoreSpotlightIndexer, SPCoreSpotlightIndexerTask,
                            SPCoreSpotlightInteractionHandler,
                            SPCoreSpotlightTask, SPQueryJob, SPQueryResultsQueue,
                            SPUAProgressItem, SpotlightReceiverConnection,
                            SpotlightSender, SpotlightSenderState, _SPBucketSet ]
    objc-ivars:           [ SDTrace._items,
                            SPConcreteCoreSpotlightIndexer._cancelPtr,
                            SPConcreteCoreSpotlightIndexer._checkedInClients,
                            SPConcreteCoreSpotlightIndexer._createCount,
                            SPConcreteCoreSpotlightIndexer._knownClients,
                            SPConcreteCoreSpotlightIndexer._lastPreheat,
                            SPConcreteCoreSpotlightIndexer._lastTTLPass,
                            SPConcreteCoreSpotlightIndexer._maintenanceOperations,
                            SPConcreteCoreSpotlightIndexer._reindexAllDelegateBundleIDs,
                            SPConcreteCoreSpotlightIndexer._scheduledStringsCleanup,
                            SPConcreteCoreSpotlightIndexer._softSuspended,
                            SPConcreteCoreSpotlightIndexer._suspended,
                            _SPBucketSet._members ]
undefineds:
  - archs:                [ armv7, armv7s, arm64, arm64e, i386, x86_64 ]
    symbols:              [ _ADClientAddValueForScalarKey,
                            _AnalyticsSendEventLazy, _CFAbsoluteTimeGetCurrent,
                            _CFArrayGetCount, _CFDictionaryCreateMutable,
                            _CFDictionaryGetCount, _CFDictionaryGetKeysAndValues,
                            _CFDictionaryGetValue, _CFDictionaryRemoveValue,
                            _CFDictionarySetValue,
                            _CFNotificationCenterGetDistributedCenter,
                            _CFPreferencesCopyKeyList,
                            _CFPreferencesCopyMultiple,
                            _CFPreferencesGetAppBooleanValue, _CFRelease,
                            _CFRetain, _CFRunLoopAddSource, _CFRunLoopGetCurrent,
                            _CFStringGetFileSystemRepresentation,
                            _CPCopyBundleIdentifierAndTeamFromApplicationIdentifier,
                            _CSFriendlyFieldName, _CSIndexErrorDomain,
                            _CSSanitizeProtectionClass,
                            _CSSearchAgentMachServiceName,
                            _CSSearchQueryErrorDomain,
                            _IOPSCopyExternalPowerAdapterDetails,
                            _IOPSCopyPowerSourcesInfo, _IOPSCopyPowerSourcesList,
                            _IOPSNotificationCreateRunLoopSource,
                            _MDItemAttributeChangeDate, _MDItemBundleID,
                            _MDItemContentType, _MDItemContentURL,
                            _MDItemDomainIdentifier, _MDItemExpirationDate,
                            _MDItemHTMLContent, _MDItemHTMLContentData,
                            _MDItemIncomingAudioCallDates,
                            _MDItemIncomingVideoCallDates, _MDItemIsZombie,
                            _MDItemLastUsedDate, _MDItemOutgoingAudioCallDates,
                            _MDItemOutgoingCounts, _MDItemOutgoingSMSCounts,
                            _MDItemOutgoingVideoCallDates,
                            _MDItemRankingLaunchDates,
                            _MDItemRankingLaunchStrings, _MDItemTextContent,
                            _MDItemUniqueIdentifier, _MDItemUserActivityType,
                            _MKBDeviceUnlockedSinceBoot, _MKBGetDeviceLockState,
                            _NSFileProtectionComplete,
                            _NSFileProtectionCompleteUnlessOpen,
                            _NSFileProtectionCompleteUntilFirstUserAuthentication,
                            _NSFileProtectionKey,
                            _NSFileProviderDomainDefaultIdentifier,
                            _NSFileProviderRootContainerItemIdentifier,
                            _NSHomeDirectory, _NSKeyedArchiveRootObjectKey,
                            _NSLocalizedDescriptionKey, _NSLog, _NSStringFromClass,
                            _NSStringFromSelector,
                            _PKManagerPlugInBundleIdentifierKey, _SICancel,
                            _SICloseIndex, _SICopyProperties, _SICopyProperty,
                            _SICopyRoundedDate, _SIDeleteAttributes,
                            _SIDeleteCSAttributes, _SIDeleteCSClientStateCache,
                            _SIDeleteCSItems,
                            _SIExecuteQueryWithResultsCallbackForTags,
                            _SIFetchCSClientState, _SIFixupPaths,
                            _SIFlushAndSuspendIndex,
                            _SIGetAccumulatedSizeForGroup,
                            _SIGetAccumulatedStorageSizeForBundleId,
                            _SIGetCSAttributes, _SIIndexInactive,
                            _SIIndexIsInPlayback,
                            _SIOpenIndexAtPathWithCallbacks, _SIPreHeatIndex,
                            _SIQueryAddResultFilter, _SIQueryCreate,
                            _SIQueryCreateWithItemsAndCompletionStringWithCurrentTime,
                            _SIQueryRelease, _SIQueryRetain,
                            _SIQuerySetDominantRankingQueryCount,
                            _SIQuerySetFuzzyQueryInfo,
                            _SIQuerySetStrongRankingQueryCount,
                            _SIResultBatchFree, _SIResultQueueCancel,
                            _SIResultQueueCreate, _SIResultQueueDequeue,
                            _SIResultQueueNoWakeupTrigger, _SIResultQueueRelease,
                            _SIResultQueueSetWakeupTrigger, _SIResumeForUnlock,
                            _SIResumeIndex, _SISetCSAttributes,
                            _SISetCodedAttributes, _SISetDefaultSchemaData,
                            _SISetFileProvidersCallbacks, _SISetLogging,
                            _SISetPowerState, _SISetProperty,
                            _SISetQueryCSFieldNameCallback, _SISyncIndex,
                            _SISyncIndexForLikelyShutdown, _SISynchedOp,
                            _SISynchedOpPropagatingPriority,
                            _SIUserCtxCreateWithLanguages, _SIValidIndex,
                            _SecTaskCopySigningIdentifier,
                            _SecTaskCopyValueForEntitlement,
                            _SecTaskCreateWithAuditToken, _UTTypeConformsTo,
                            _XPC_ACTIVITY_ALLOW_BATTERY, _XPC_ACTIVITY_CHECK_IN,
                            _XPC_ACTIVITY_DELAY, _XPC_ACTIVITY_GRACE_PERIOD,
                            _XPC_ACTIVITY_INTERVAL_7_DAYS,
                            _XPC_ACTIVITY_POWER_NAP, _XPC_ACTIVITY_PRIORITY,
                            _XPC_ACTIVITY_PRIORITY_MAINTENANCE,
                            __Block_object_assign, __Block_object_dispose,
                            __CFCopySystemVersionDictionary,
                            __CFXPCCreateCFObjectFromXPCObject,
                            __DASSchedulingPriorityBackground,
                            __MDIndexExtensionsLoadedNotification,
                            __MDPlainTextFromHTMLData, __MDPlistArrayGetCount,
                            __MDPlistArrayGetPlistObjectAtIndex,
                            __MDPlistBytesCopyChildPlistBytesAtIndex,
                            __MDPlistBytesCopyPlistAtIndex,
                            __MDPlistBytesGetByteVector,
                            __MDPlistBytesGetByteVectorCount,
                            __MDPlistBytesGetMappedByteVector,
                            __MDPlistContainerCopyObject,
                            __MDPlistContainerCreateWithBytes,
                            __MDPlistContainerCreateWithObject,
                            __MDPlistContainerGetBytes,
                            __MDPlistContainerGetLength, __MDPlistDateGetValue,
                            __MDPlistDictionaryGetPlistObjectForKey,
                            __MDPlistGetPlistObjectType,
                            __MDStoreOIDArrayApplyBlock,
                            __MDStoreOIDArrayGetVector,
                            __MDStoreOIDArrayGetVectorCount,
                            __NSConcreteGlobalBlock, __NSConcreteStackBlock,
                            __SIChangeProtectionClassForFilesInDirectory,
                            __SICleanupStrings, __SIConsistencyCheck,
                            __SICooldownIndexFilesForMerge, __SIIssueDefrag,
                            __SIIssueFullMergeWithGroup, __SIIssueRecovery,
                            __SIIssueSplit, __SIOpenIndexFilesForMerge,
                            __SIScheduleBackgroundOperation,
                            __SISchedulerCopyDump, __SISetContactsIndex,
                            __SISetCoreSpotlightCopyBundleRemapCallback,
                            __SISetCoreSpotlightRelatedItemCallback,
                            __SISetGetLockStateCallback,
                            __SISetMemoryPressureStatus, __SISetProtectionClass,
                            __SIStartPreheatScheduler,
                            __SITemporarilyChangeProtectionClass,
                            __Unwind_Resume, ___CFConstantStringClassReference,
                            ___NSArray0__struct, ___NSDictionary0__struct,
                            ___assert_rtn, ___error, ___kCFBooleanFalse,
                            ___kCFBooleanTrue, ___objc_personality_v0,
                            ___stack_chk_fail, ___stack_chk_guard, ___strcpy_chk,
                            __dispatch_main_q, __dispatch_source_type_data_or,
                            __dispatch_source_type_memorypressure,
                            __dispatch_source_type_signal,
                            __dispatch_source_type_timer, __objc_empty_cache,
                            __os_log_debug_impl, __os_log_default,
                            __os_log_error_impl, __os_log_impl,
                            __xpc_error_connection_interrupted,
                            __xpc_error_connection_invalid,
                            __xpc_error_key_description, __xpc_event_key_name,
                            __xpc_type_dictionary, _bzero, _close, _closedir,
                            _csindex_xpc_dictionary_decode_status_with_error,
                            _csindex_xpc_dictionary_encode_status_with_error,
                            _csquery_xpc_dictionary_encode_status,
                            _csquery_xpc_dictionary_encode_status_with_error,
                            _dispatch_activate, _dispatch_after, _dispatch_apply,
                            _dispatch_assert_queue$V2,
                            _dispatch_assert_queue_not$V2, _dispatch_async,
                            _dispatch_block_create,
                            _dispatch_block_create_with_qos_class,
                            _dispatch_get_global_queue, _dispatch_group_async,
                            _dispatch_group_create, _dispatch_group_enter,
                            _dispatch_group_leave, _dispatch_group_notify,
                            _dispatch_group_wait, _dispatch_once,
                            _dispatch_queue_attr_make_with_autorelease_frequency,
                            _dispatch_queue_attr_make_with_qos_class,
                            _dispatch_queue_create, _dispatch_resume,
                            _dispatch_semaphore_signal, _dispatch_semaphore_wait,
                            _dispatch_source_cancel, _dispatch_source_create,
                            _dispatch_source_get_data,
                            _dispatch_source_merge_data,
                            _dispatch_source_set_event_handler,
                            _dispatch_source_set_timer, _dispatch_suspend,
                            _dispatch_sync, _dispatch_time, _exit, _free, _fstat,
                            _geteuid, _getpid, _index, _kCFAllocatorDefault,
                            _kCFBooleanTrue, _kCFNull, _kCFPreferencesAnyHost,
                            _kCFPreferencesCurrentApplication,
                            _kCFPreferencesCurrentUser, _kCFRunLoopDefaultMode,
                            _kCFTypeDictionaryKeyCallBacks,
                            _kCSDataProtectionClassEntitlement,
                            _kCSDeveloperDataProtectionClassEntitlement,
                            _kDASBudgetKeyProcessNames, _kSBSLockStateNotifyKey,
                            _kSecEntitlementCSInternal,
                            _kSecEntitlementCSPrivateIndexNonsandbox,
                            _kSecEntitlementCSSearchInternal,
                            _kSecEntitlementCoreSpotlightApplicationIdentifier,
                            _kUTTypeEmailMessage, _localtime_r,
                            _logForCSLogCategoryDefault,
                            _logForCSLogCategoryIndex, _logForCSLogCategoryQuery,
                            _malloc, _mmap, _munmap, _notify_cancel, _notify_check,
                            _notify_get_state, _notify_post,
                            _notify_register_dispatch, _objc_alloc,
                            _objc_alloc_init, _objc_autorelease,
                            _objc_autoreleasePoolPop, _objc_autoreleasePoolPush,
                            _objc_autoreleaseReturnValue, _objc_begin_catch,
                            _objc_copyWeak, _objc_destroyWeak, _objc_end_catch,
                            _objc_enumerationMutation, _objc_getProperty,
                            _objc_initWeak, _objc_loadWeakRetained, _objc_msgSend,
                            _objc_msgSendSuper2, _objc_opt_class,
                            _objc_opt_isKindOfClass, _objc_opt_new,
                            _objc_opt_respondsToSelector, _objc_opt_self,
                            _objc_release, _objc_retain, _objc_retainAutorelease,
                            _objc_retainAutoreleaseReturnValue,
                            _objc_retainAutoreleasedReturnValue,
                            _objc_retainBlock, _objc_setProperty_atomic,
                            _objc_setProperty_nonatomic_copy, _objc_storeStrong,
                            _objc_storeWeak, _objc_sync_enter, _objc_sync_exit,
                            _objc_unsafeClaimAutoreleasedReturnValue, _open,
                            _opendir, _os_log_type_enabled,
                            _os_transaction_copy_description,
                            _os_transaction_create,
                            _os_variant_has_internal_diagnostics,
                            _pthread_mutex_lock, _pthread_mutex_unlock,
                            _qos_class_self, _raise, _readdir, _signal, _sleep, _stat,
                            _strcmp, _strcpy, _strftime, _strlen, _strtoull, _write,
                            _xpc_activity_get_state, _xpc_activity_register,
                            _xpc_activity_set_state, _xpc_activity_should_defer,
                            _xpc_connection_get_audit_token,
                            _xpc_connection_get_egid, _xpc_connection_get_euid,
                            _xpc_connection_get_pid,
                            _xpc_connection_is_extension,
                            _xpc_connection_send_message,
                            _xpc_connection_send_message_with_reply,
                            _xpc_dictionary_create, _xpc_dictionary_create_reply,
                            _xpc_dictionary_get_array, _xpc_dictionary_get_bool,
                            _xpc_dictionary_get_double,
                            _xpc_dictionary_get_remote_connection,
                            _xpc_dictionary_get_string,
                            _xpc_dictionary_get_uint64,
                            _xpc_dictionary_get_value, _xpc_dictionary_set_bool,
                            _xpc_dictionary_set_data, _xpc_dictionary_set_date,
                            _xpc_dictionary_set_int64,
                            _xpc_dictionary_set_string,
                            _xpc_dictionary_set_uint64,
                            _xpc_dictionary_set_value, _xpc_equal, _xpc_get_type,
                            _xpc_hash, _xpc_set_event_stream_handler,
                            _xpc_string_create, dyld_stub_binder ]
    objc-classes:         [ CSCoder, CSDecoder, CSIndexJob, CSIndexingQueue,
                            CSLocalizedString, CSReceiverPreferences,
                            CSReceiverServerPreferences, CSSearchQueryContext,
                            CSSearchableIndex, CSSearchableItem,
                            CSSearchableItemAttributeSet, CSUserAction,
                            CSUserActivityTuple, CSXPCConnection,
                            CoreSpotlightUtils, DMEnvironment, FPItemID,
                            FPItemManager, FPProviderMonitor, INInteraction,
                            INSendMessageIntent, INStartAudioCallIntent,
                            INStartVideoCallIntent, NSArray, NSBundle,
                            NSConstantArray, NSConstantDictionary,
                            NSConstantIntegerNumber, NSData, NSDate, NSDateFormatter,
                            NSDecimalNumber, NSDictionary, NSError, NSException,
                            NSFileHandle, NSFileManager, NSInputStream,
                            NSKeyedUnarchiver, NSLocale, NSMapTable, NSMutableArray,
                            NSMutableDictionary, NSMutableOrderedSet, NSMutableSet,
                            NSMutableString, NSNotificationCenter, NSNumber,
                            NSNumberFormatter, NSObject, NSOperationQueue,
                            NSOutputStream, NSPropertyListSerialization, NSSet,
                            NSString, NSURL, NSUserDefaults, NSValue, PKManager,
                            UMUserManager, _DASScheduler, _DASSystemContext,
                            _MDIndexExtensionManager ]
    objc-eh-types:        [ NSException ]
...
