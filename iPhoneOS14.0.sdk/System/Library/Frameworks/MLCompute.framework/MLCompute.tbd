--- !tapi-tbd-v3
archs:                 [ armv7, armv7s, arm64, arm64e, i386, x86_64 ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/Frameworks/MLCompute.framework/MLCompute
current-version:       1
compatibility-version: 1
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e, i386, x86_64 ]
    symbols:              [ _ANE_BuildANECKernelSize, _ANE_BuildANECPadding,
                            _ANE_BuildANECStep, _ANE_BuildANECTensorDesc,
                            _ANE_BuildArithmeticUnit, _ANE_BuildBiasParams,
                            _ANE_BuildNeuronParams, _ANE_BuildNeuronUnit,
                            _ANE_CalculateIOInterleave,
                            _ANE_CalculateImageSizeForTensor,
                            _ANE_CalculatePlaneStrideForTensor,
                            _ANE_CalculateRowStrideForTensor,
                            _ANE_CompileArithmeticLayer, _ANE_CompileConcatLayer,
                            _ANE_CompileConvolutionLayer,
                            _ANE_CompileMatMulLayer, _ANE_CompileNeuronLayer,
                            _ANE_CompileNormalizationLayer,
                            _ANE_CompilePoolingLayer, _ANE_CompileReductionLayer,
                            _ANE_CompileUpsampleLayer, _ANE_CompressSparseKernel,
                            _ANE_ConvertFp32ToFp16, _ANE_ConvertInputTensor,
                            _ANE_CreateArithmeticLayer, _ANE_CreateConcatLayer,
                            _ANE_CreateConvolutionLayer, _ANE_CreateMatMulLayer,
                            _ANE_CreateNeuronLayer,
                            _ANE_CreateNormalizationLayer,
                            _ANE_CreatePoolingLayer, _ANE_CreateReductionLayer,
                            _ANE_CreateUnit, _ANE_CreateUpsampleLayer,
                            _ANE_GetTensorWidthAndHeight,
                            _ANE_GetTensorWidthAndHeightStrides,
                            _ANE_ReadOutputTensor, _ANE_ValidateConcatLayer,
                            _ANE_ValidateConvolutionLayer,
                            _ANE_ValidateInputOutputTensors,
                            _ANE_ValidateNeuronLayer, _ANE_ValidatePoolingLayer,
                            _ANE_ValidateUpsampleLayer,
                            _CPU_BNNSDataTypeSizeInBytes,
                            _CPU_BuildBNNSNDArrayDescriptor,
                            _CPU_BuildBNNSNDArrayDescriptorColMajor,
                            _CPU_BuildBNNSNDArrayDescriptorForBetaOrGammaDeltas,
                            _CPU_BuildBNNSNDArrayDescriptorRowMajor,
                            _CPU_BuildBNNSNormalizationInputOutputParams,
                            _CPU_BuildBNNSNormalizationParams,
                            _CPU_CompileFusedConvolutionNormalizationAndNeuronLayer,
                            _CPU_CompileLossLayer,
                            _CPU_CompileNormalizationLayer,
                            _CPU_CompilePaddingLayer, _CPU_CompileTransposeLayer,
                            _CPU_CompileUpsampleLayer, _CPU_CompileYOLOLossLayer,
                            _CPU_CreateAdamOptimizer, _CPU_CreateCustomLossLayer,
                            _CPU_CreateFusedConvolutionNormalizationAndNeuronLayer,
                            _CPU_CreateLossLayer, _CPU_CreateNormalizationLayer,
                            _CPU_CreateOptimizerDataForTensorParameter,
                            _CPU_CreatePaddingLayer, _CPU_CreateRMSPropOptimizer,
                            _CPU_CreateSGDOptimizer, _CPU_CreateTransposeLayer,
                            _CPU_CreateUpsampleLayer, _CPU_CreateYOLOLossLayer,
                            _CPU_SetBatchStride,
                            _CPU_SetOptimizerDataForConvolutionLayer,
                            _CPU_SetOptimizerDataForNormalizationLayer,
                            _GPU_AdjustFeatureChannelBeyondMax,
                            _GPU_AdjustReshapeResultShape,
                            _GPU_AllocateMemoryForMomentum,
                            _GPU_AllocateResourceForMultiGPUTraining,
                            _GPU_AssociateDataSourceToTensors,
                            _GPU_CreateAdamOptimizer, _GPU_CreateCustomLossLayer,
                            _GPU_CreateLossLayer,
                            _GPU_CreateOptimizerDataForTensorParameter,
                            _GPU_CreateOptimizerVectorDataForTensorParameter,
                            _GPU_CreateRMSPropOptimizer, _GPU_CreateSGDOptimizer,
                            _GPU_CreateYOLOLossLayer,
                            _GPU_GetDataSourceFromTensors, _GPU_GetDataType,
                            _GPU_GetTensorWidthAndHeight,
                            _GPU_GetTensorWidthAndHeightStrides,
                            _GPU_SetFullyConnectedPaddingPolicy,
                            _GPU_SetPaddingPolicyForLayer,
                            _GPU_SetPoolingLayerPaddingPolicy,
                            _MLCActivationTypeDebugDescription,
                            _MLCArithmeticOperationDebugDescription,
                            _MLCConvolutionTypeDebugDescription,
                            _MLCDeviceTypeANE, _MLCLossTypeDebugDescription,
                            _MLCPaddingPolicyDebugDescription,
                            _MLCPaddingTypeDebugDescription,
                            _MLCPoolingTypeDebugDescription,
                            _MLCPredicateTypeDebugDescription,
                            _MLCReductionTypeDebugDescription,
                            _MLCSampleModeDebugDescription,
                            _MLCSoftmaxOperationDebugDescription,
                            _convertDataLayout, _convertNCHWToCWHN,
                            _convertNCHWtoTNC, _convertNCtoTNC, _convertNSEtoTNC,
                            _convertTNCtoNC, _convertTNCtoNCHW, _convertTNCtoNTC,
                            _createArrayOfMPSMatrixSlicesFromBatch,
                            _deviceParameterWithVectors,
                            _encodeMPSImageBatchToMPSTemporaryNDArray,
                            _encodeMPSTemporaryNDArrayToMPSImageBatch,
                            _kMLCANEDMANumByteAlignment, _kMLCANEIOInterleaves,
                            _kMLCANEKernelSparsityEpsilon,
                            _kMLCANEKernelSparsityThreshold,
                            _kMLCCurrentANEIRVersion,
                            _kMLCTensorSizeValueUnknown,
                            _kMaxCPUOptimizerMomentumBuffers,
                            _kMaxFeatureChannelMPSImage,
                            _makeMPSTemporaryNDArrayFromMPSImageBatch,
                            _missingMPSNeuronType,
                            _rotateWeightsTensorBy180Degree, _setBNNSActivation ]
    objc-classes:         [ MLCANEDeviceOps, MLCActivationDescriptor,
                            MLCActivationLayer, MLCAdamOptimizer,
                            MLCArithmeticLayer, MLCBatchNormalizationLayer,
                            MLCCPUDeviceOps, MLCCompareLayer,
                            MLCConcatenationLayer, MLCConditionalLayer,
                            MLCControlTreeNode, MLCConvolutionDescriptor,
                            MLCConvolutionLayer, MLCCustomLayerTensor,
                            MLCDataHelper, MLCDevice, MLCDeviceANE, MLCDeviceCPU,
                            MLCDeviceGPU, MLCDeviceGPUHeapAllocator, MLCDeviceOps,
                            MLCDeviceOptimizer, MLCDeviceParameter,
                            MLCDropoutLayer, MLCEmbeddingDescriptor,
                            MLCEmbeddingLayer, MLCErrors, MLCFullyConnectedLayer,
                            MLCGPUDeviceOps, MLCGPUHelper, MLCGramMatrixLayer,
                            MLCGraph, MLCGroupNormalizationLayer,
                            MLCInferenceGraph, MLCInstanceNormalizationLayer,
                            MLCLSTMDescriptor, MLCLSTMLayer, MLCLayer,
                            MLCLayerNormalizationLayer, MLCLog, MLCLossDescriptor,
                            MLCLossLayer, MLCMHACPUDeviceOps, MLCMHAGPUDeviceOps,
                            MLCMatMulDescriptor, MLCMatMulLayer,
                            MLCMultiGPUDeviceOps,
                            MLCMultiheadAttentionDescriptor,
                            MLCMultiheadAttentionLayer, MLCOptimizer,
                            MLCOptimizerDescriptor, MLCPaddingLayer, MLCPhiLayer,
                            MLCPlatformInfo, MLCPoolingDescriptor, MLCPoolingLayer,
                            MLCRMSPropOptimizer, MLCRNNCPUDeviceOps,
                            MLCRNNGPUDeviceOps, MLCReductionLayer, MLCReshapeLayer,
                            MLCSGDOptimizer, MLCSliceCPUDeviceOps, MLCSliceLayer,
                            MLCSoftmaxLayer, MLCSplitLayer, MLCStrings, MLCTensor,
                            MLCTensorData, MLCTensorDescriptor, MLCTensorParameter,
                            MLCTrainingGraph, MLCTransposeLayer, MLCUpsampleLayer,
                            MLCYOLOLossDescriptor, MLCYOLOLossLayer,
                            _MLCANEArithmeticParameters, _MLCANEConcatParameters,
                            _MLCANEConvolutionParameters, _MLCANEIOSurfaceObject,
                            _MLCANEMatMulParameters, _MLCANEModelObject,
                            _MLCANENeuronParameters,
                            _MLCANENormalizationParameters,
                            _MLCANEPoolingParameters, _MLCANEReductionParameters,
                            _MLCANEUpsampleParameters, _MLCANEWeightFileOps,
                            _MLCCPUArithmetic, _MLCCPUCompare, _MLCCPUConvolution,
                            _MLCCPUDropout, _MLCCPUEmbedding,
                            _MLCCPUFullyConnected, _MLCCPUGramMatrix, _MLCCPULSTM,
                            _MLCCPULayer, _MLCCPUMHAttention, _MLCCPUMatMul,
                            _MLCCPUNeuron, _MLCCPUPooling, _MLCCPUReduction,
                            _MLCCPUReshape, _MLCCPUSlice, _MLCCPUSoftmax,
                            _MLCCPUSplit, _MLCGPUArithmetic,
                            _MLCGPUBatchNormDataSource,
                            _MLCGPUBatchNormalization, _MLCGPUCompare,
                            _MLCGPUConvolution,
                            _MLCGPUConvolutionTransposePadding, _MLCGPUDropout,
                            _MLCGPUFullyConnected, _MLCGPUGramMatrix,
                            _MLCGPUGroupNormDataSource,
                            _MLCGPUGroupNormalization,
                            _MLCGPUInstanceNormDataSource,
                            _MLCGPUInstanceNormalization, _MLCGPULSTM,
                            _MLCGPULayer, _MLCGPULayerNormalization,
                            _MLCGPUMHAttention, _MLCGPUMatMul, _MLCGPUNeuron,
                            _MLCGPUPadding, _MLCGPUPooling, _MLCGPUReduction,
                            _MLCGPUReshape, _MLCGPUSlice, _MLCGPUSoftmax,
                            _MLCGPUSplit, _MLCGPUTranspose, _MLCGPUUpsample,
                            _MLCGPUWeightsConvolution,
                            _MLCGaussianRandomGenerator ]
undefineds:
  - archs:                [ armv7, armv7s, arm64, arm64e, i386, x86_64 ]
    symbols:              [ _BNNSApplyMultiheadAttention,
                            _BNNSApplyMultiheadAttentionBackward,
                            _BNNSArithmeticFilterApplyBackwardBatch,
                            _BNNSArithmeticFilterApplyBatch, _BNNSCompareTensor,
                            _BNNSComputeLSTMTrainingCacheCapacity, _BNNSCopy,
                            _BNNSDirectApplyLSTMBatchBackward,
                            _BNNSDirectApplyLSTMBatchTrainingCaching,
                            _BNNSFilterApplyBackwardBatch,
                            _BNNSFilterApplyBackwardTwoInputBatch,
                            _BNNSFilterApplyBatch, _BNNSFilterApplyTwoInputBatch,
                            _BNNSFilterCreateFusedLayer,
                            _BNNSFilterCreateLayerActivation,
                            _BNNSFilterCreateLayerArithmetic,
                            _BNNSFilterCreateLayerConvolution,
                            _BNNSFilterCreateLayerDropout,
                            _BNNSFilterCreateLayerFullyConnected,
                            _BNNSFilterCreateLayerGram,
                            _BNNSFilterCreateLayerLoss,
                            _BNNSFilterCreateLayerMultiheadAttention,
                            _BNNSFilterCreateLayerNormalization,
                            _BNNSFilterCreateLayerPadding,
                            _BNNSFilterCreateLayerPermute,
                            _BNNSFilterCreateLayerPooling,
                            _BNNSFilterCreateLayerReduction,
                            _BNNSFilterCreateLayerResize,
                            _BNNSFilterCreateLayerTensorContraction,
                            _BNNSFilterCreateLayerTransposedConvolution,
                            _BNNSFilterDestroy,
                            _BNNSFusedFilterApplyBackwardBatch,
                            _BNNSFusedFilterApplyBatch,
                            _BNNSLossFilterApplyBackwardBatch,
                            _BNNSLossFilterApplyBatch,
                            _BNNSNormalizationFilterApplyBackwardBatch,
                            _BNNSNormalizationFilterApplyBatch,
                            _BNNSOptimizerStep, _CFAbsoluteTimeGetCurrent,
                            _CFDictionaryCreateCopy, _CFRelease, _MGCopyAnswer,
                            _MGGetBoolAnswer, _MGGetStringAnswer,
                            _MPSGetTemporaryBufferFromCommandBufferCache,
                            _MPSImageBatchIncrementReadCount,
                            _MPSStateBatchIncrementReadCount,
                            _MTLCreateSystemDefaultDevice,
                            _NSLocalizedDescriptionKey, _NSStringFromClass,
                            _NSStringFromSelector, _NSTemporaryDirectory,
                            __Block_object_assign, __Block_object_dispose,
                            __NSConcreteGlobalBlock, __NSConcreteStackBlock,
                            __Unwind_Resume, ___CFConstantStringClassReference,
                            ___NSArray0__struct, ___NSDictionary0__struct,
                            ___assert_rtn, ___chkstk_darwin,
                            ___objc_personality_v0, ___sincos_stret,
                            ___stack_chk_fail, ___stack_chk_guard, ___strncpy_chk,
                            __objc_empty_cache, __os_log_debug_impl,
                            __os_log_default, __os_log_error_impl,
                            __os_log_fault_impl, __os_log_impl,
                            __os_signpost_emit_with_name_impl, _arc4random,
                            _arc4random_buf, _arc4random_uniform, _bzero, _calloc,
                            _dispatch_once, _dladdr, _dlopen, _dlsym, _drand48, _free,
                            _getpagesize, _kCFAllocatorDefault, _log, _log2f, _malloc,
                            _memcpy, _memset_pattern16, _objc_alloc,
                            _objc_alloc_init, _objc_autoreleasePoolPop,
                            _objc_autoreleasePoolPush,
                            _objc_autoreleaseReturnValue, _objc_destroyWeak,
                            _objc_enumerationMutation, _objc_getClass,
                            _objc_getProperty, _objc_loadWeakRetained,
                            _objc_msgSend, _objc_msgSendSuper2, _objc_opt_class,
                            _objc_opt_isKindOfClass, _objc_opt_new,
                            _objc_opt_respondsToSelector, _objc_release,
                            _objc_retain, _objc_retainAutorelease,
                            _objc_retainAutoreleaseReturnValue,
                            _objc_retainAutoreleasedReturnValue,
                            _objc_setProperty_nonatomic_copy, _objc_storeStrong,
                            _objc_storeWeak,
                            _objc_unsafeClaimAutoreleasedReturnValue,
                            _os_log_create, _os_log_type_enabled,
                            _os_signpost_enabled, _os_signpost_id_generate,
                            _os_unfair_lock_lock, _os_unfair_lock_unlock, _powf,
                            _rand_r, _snprintf, _srand48, _stat, _strlen, _sysctlbyname,
                            _vImageConvert_Planar16FtoPlanarF,
                            _vImageConvert_PlanarFtoPlanar16F, _valloc,
                            dyld_stub_binder ]
    objc-classes:         [ MPSCNNAdd, MPSCNNAddGradient, MPSCNNBatchNormalization,
                            MPSCNNBatchNormalizationGradient,
                            MPSCNNBatchNormalizationState,
                            MPSCNNBatchNormalizationStatistics,
                            MPSCNNBatchNormalizationStatisticsGradient,
                            MPSCNNBinaryKernel, MPSCNNConvolution,
                            MPSCNNConvolutionDescriptor,
                            MPSCNNConvolutionGradient,
                            MPSCNNConvolutionTranspose,
                            MPSCNNConvolutionTransposeGradient,
                            MPSCNNDepthWiseConvolutionDescriptor,
                            MPSCNNDilatedPoolingMax,
                            MPSCNNDilatedPoolingMaxGradient, MPSCNNDropout,
                            MPSCNNDropoutGradient, MPSCNNFullyConnected,
                            MPSCNNFullyConnectedGradient, MPSCNNGradientKernel,
                            MPSCNNGroupNormalization,
                            MPSCNNGroupNormalizationGradient,
                            MPSCNNInstanceNormalization,
                            MPSCNNInstanceNormalizationGradient,
                            MPSCNNLogSoftMax, MPSCNNLogSoftMaxGradient, MPSCNNLoss,
                            MPSCNNLossDataDescriptor, MPSCNNLossDescriptor,
                            MPSCNNLossLabels, MPSCNNMultiply,
                            MPSCNNMultiplyGradient, MPSCNNNeuron,
                            MPSCNNNeuronGradient,
                            MPSCNNNormalizationGammaAndBetaState,
                            MPSCNNNormalizationMeanAndVarianceState,
                            MPSCNNPoolingAverage, MPSCNNPoolingAverageGradient,
                            MPSCNNPoolingL2Norm, MPSCNNPoolingL2NormGradient,
                            MPSCNNPoolingMax, MPSCNNPoolingMaxGradient,
                            MPSCNNSoftMax, MPSCNNSoftMaxGradient, MPSCNNSubtract,
                            MPSCNNSubtractGradient, MPSCNNUpsamplingBilinear,
                            MPSCNNUpsamplingBilinearGradient,
                            MPSCNNUpsamplingNearest,
                            MPSCNNUpsamplingNearestGradient, MPSCNNYOLOLoss,
                            MPSCNNYOLOLossDescriptor, MPSCommandBuffer, MPSImage,
                            MPSImageCopyToMatrix, MPSImageDescriptor, MPSKernel,
                            MPSLSTMDescriptor, MPSMatrix, MPSMatrixCopy,
                            MPSMatrixCopyDescriptor, MPSMatrixCopyToImage,
                            MPSMatrixDescriptor, MPSMatrixMultiplication,
                            MPSMatrixSoftMax, MPSMatrixSoftMaxGradient,
                            MPSMatrixSum, MPSNDArrayACos, MPSNDArrayACosGradient,
                            MPSNDArrayACosh, MPSNDArrayACoshGradient,
                            MPSNDArrayASin, MPSNDArrayASinGradient,
                            MPSNDArrayASinh, MPSNDArrayASinhGradient,
                            MPSNDArrayATan, MPSNDArrayATanGradient,
                            MPSNDArrayATanh, MPSNDArrayATanhGradient,
                            MPSNDArrayCeil, MPSNDArrayCeilGradient, MPSNDArrayCos,
                            MPSNDArrayCosGradient, MPSNDArrayCosh,
                            MPSNDArrayCoshGradient, MPSNDArrayDescriptor,
                            MPSNDArrayDivision,
                            MPSNDArrayDivisionPrimaryGradient,
                            MPSNDArrayDivisionSecondaryGradient,
                            MPSNDArrayExponent, MPSNDArrayExponentBase2,
                            MPSNDArrayExponentBase2Gradient,
                            MPSNDArrayExponentGradient, MPSNDArrayFloor,
                            MPSNDArrayFloorGradient, MPSNDArrayLogSoftMax,
                            MPSNDArrayLogSoftMaxGradient, MPSNDArrayLogarithm,
                            MPSNDArrayLogarithmBase2,
                            MPSNDArrayLogarithmBase2Gradient,
                            MPSNDArrayLogarithmGradient,
                            MPSNDArrayMultiaryGradientKernel,
                            MPSNDArrayMultiaryKernel, MPSNDArrayPower,
                            MPSNDArrayPowerPrimaryGradient,
                            MPSNDArrayPowerSecondaryGradient,
                            MPSNDArrayReverseSquareRoot,
                            MPSNDArrayReverseSquareRootGradient, MPSNDArrayRound,
                            MPSNDArrayRoundGradient, MPSNDArraySin,
                            MPSNDArraySinGradient, MPSNDArraySinh,
                            MPSNDArraySinhGradient, MPSNDArraySoftMax,
                            MPSNDArraySoftMaxGradient, MPSNDArraySquareRoot,
                            MPSNDArraySquareRootGradient, MPSNDArrayStridedSlice,
                            MPSNDArrayStridedSliceGradient, MPSNDArrayTan,
                            MPSNDArrayTanGradient, MPSNDArrayTanh,
                            MPSNDArrayTanhGradient, MPSNNCompare,
                            MPSNNDefaultPadding, MPSNNForwardLoss,
                            MPSNNGramMatrixCalculation,
                            MPSNNGramMatrixCalculationGradient,
                            MPSNNInitialGradient, MPSNNLossGradient,
                            MPSNNNeuronDescriptor, MPSNNOptimizerAdam,
                            MPSNNOptimizerDescriptor, MPSNNOptimizerRMSProp,
                            MPSNNOptimizerStochasticGradientDescent, MPSNNPad,
                            MPSNNPadGradient, MPSNNPermute, MPSNNPermuteGradient,
                            MPSNNReduceColumnMax, MPSNNReduceColumnMin,
                            MPSNNReduceColumnSum,
                            MPSNNReduceFeatureChannelsArgumentMax,
                            MPSNNReduceFeatureChannelsArgumentMin,
                            MPSNNReduceFeatureChannelsMax,
                            MPSNNReduceFeatureChannelsMin,
                            MPSNNReduceFeatureChannelsSum, MPSNNReduceRowMax,
                            MPSNNReduceRowMin, MPSNNReduceRowSum, MPSNNReshape,
                            MPSNNReshapeGradient, MPSNNSlice,
                            MPSRNNMatrixInferenceLayer,
                            MPSRNNMatrixTrainingLayer, MPSTemporaryImage,
                            MPSTemporaryMatrix, MPSTemporaryNDArray, MPSVector,
                            MPSVectorDescriptor, MTLFunctionConstantValues,
                            MTLTextureDescriptor, NSArray, NSConstantArray,
                            NSConstantDictionary, NSConstantDoubleNumber,
                            NSConstantIntegerNumber, NSData, NSDictionary, NSError,
                            NSFileHandle, NSFileManager, NSMutableArray,
                            NSMutableData, NSMutableDictionary, NSMutableSet,
                            NSMutableString, NSNumber, NSObject, NSProcessInfo, NSSet,
                            NSString, NSURL ]
...
