--- !tapi-tbd-v3
archs:                 [ armv7, armv7s, arm64, arm64e, i386, x86_64 ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/Frameworks/MetalPerformanceShaders.framework/Frameworks/MPSNDArray.framework/MPSNDArray
current-version:       124.0.17
compatibility-version: 1
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e, i386, x86_64 ]
    allowable-clients:    [ MetalPerformanceShaders ]
    objc-classes:         [ MPSNDArrayACos, MPSNDArrayACosGradient,
                            MPSNDArrayACosh, MPSNDArrayACoshGradient,
                            MPSNDArrayAND, MPSNDArrayANDPrimaryGradient,
                            MPSNDArrayANDSecondaryGradient, MPSNDArrayASin,
                            MPSNDArrayASinGradient, MPSNDArrayASinh,
                            MPSNDArrayASinhGradient, MPSNDArrayATan,
                            MPSNDArrayATan2, MPSNDArrayATan2PrimaryGradient,
                            MPSNDArrayATan2SecondaryGradient,
                            MPSNDArrayATanGradient, MPSNDArrayATanh,
                            MPSNDArrayATanhGradient, MPSNDArrayAbsolute,
                            MPSNDArrayAbsoluteGradient, MPSNDArrayAddition,
                            MPSNDArrayAdditionPrimaryGradient,
                            MPSNDArrayAdditionSecondaryGradient,
                            MPSNDArrayBandPart, MPSNDArrayBinaryKernel,
                            MPSNDArrayBinaryPrimaryGradientKernel,
                            MPSNDArrayBinarySecondaryGradientKernel,
                            MPSNDArrayCeil, MPSNDArrayCeilGradient,
                            MPSNDArrayClamp, MPSNDArrayClampPrimaryGradient,
                            MPSNDArrayClampSecondaryGradient,
                            MPSNDArrayClampTertiaryGradient,
                            MPSNDArrayConvolution2D,
                            MPSNDArrayConvolution2DDescriptor,
                            MPSNDArrayConvolution2DGradientWithInput,
                            MPSNDArrayConvolution2DGradientWithWeights,
                            MPSNDArrayCos, MPSNDArrayCosGradient, MPSNDArrayCosh,
                            MPSNDArrayCoshGradient,
                            MPSNDArrayDepthwiseConvolutionKernel,
                            MPSNDArrayDivision,
                            MPSNDArrayDivisionPrimaryGradient,
                            MPSNDArrayDivisionSecondaryGradient, MPSNDArrayEqual,
                            MPSNDArrayEqualPrimaryGradient,
                            MPSNDArrayEqualSecondaryGradient, MPSNDArrayErf,
                            MPSNDArrayErfGradient, MPSNDArrayExponent,
                            MPSNDArrayExponentBase10,
                            MPSNDArrayExponentBase10Gradient,
                            MPSNDArrayExponentBase2,
                            MPSNDArrayExponentBase2Gradient,
                            MPSNDArrayExponentGradient, MPSNDArrayFloor,
                            MPSNDArrayFloorGradient, MPSNDArrayGather,
                            MPSNDArrayGatherGradient,
                            MPSNDArrayGatherGradientState, MPSNDArrayGatherND,
                            MPSNDArrayGatherNDGradient, MPSNDArrayGradientState,
                            MPSNDArrayGreaterThan,
                            MPSNDArrayGreaterThanOrEqualTo,
                            MPSNDArrayGreaterThanOrEqualToPrimaryGradient,
                            MPSNDArrayGreaterThanOrEqualToSecondaryGradient,
                            MPSNDArrayGreaterThanPrimaryGradient,
                            MPSNDArrayGreaterThanSecondaryGradient,
                            MPSNDArrayIdentity, MPSNDArrayInitialization,
                            MPSNDArrayInitializationConstant,
                            MPSNDArrayInitializationGlorotNormal,
                            MPSNDArrayInitializationGlorotUniform,
                            MPSNDArrayInitializationIdentity,
                            MPSNDArrayInitializationRandomNormal,
                            MPSNDArrayInitializationRandomUniform,
                            MPSNDArrayInitializationTruncatedNormal,
                            MPSNDArrayIsFinite, MPSNDArrayIsFiniteGradient,
                            MPSNDArrayIsInfinite, MPSNDArrayIsInfiniteGradient,
                            MPSNDArrayIsNaN, MPSNDArrayIsNaNGradient,
                            MPSNDArrayLessThan, MPSNDArrayLessThanOrEqualTo,
                            MPSNDArrayLessThanOrEqualToPrimaryGradient,
                            MPSNDArrayLessThanOrEqualToSecondaryGradient,
                            MPSNDArrayLessThanPrimaryGradient,
                            MPSNDArrayLessThanSecondaryGradient,
                            MPSNDArrayLogSoftMax, MPSNDArrayLogSoftMaxGradient,
                            MPSNDArrayLogarithm, MPSNDArrayLogarithmBase10,
                            MPSNDArrayLogarithmBase10Gradient,
                            MPSNDArrayLogarithmBase2,
                            MPSNDArrayLogarithmBase2Gradient,
                            MPSNDArrayLogarithmGradient,
                            MPSNDArrayMathBinaryKernel,
                            MPSNDArrayMathBinaryPrimaryGradient,
                            MPSNDArrayMathBinarySecondaryGradient,
                            MPSNDArrayMathTernaryKernel,
                            MPSNDArrayMathTernaryPrimaryGradient,
                            MPSNDArrayMathTernarySecondaryGradient,
                            MPSNDArrayMathTernaryTertiaryGradient,
                            MPSNDArrayMathUnaryGradient,
                            MPSNDArrayMathUnaryKernel,
                            MPSNDArrayMatrixMultiplication,
                            MPSNDArrayMatrixMultiplicationGradient,
                            MPSNDArrayMaximum, MPSNDArrayMaximumPrimaryGradient,
                            MPSNDArrayMaximumSecondaryGradient,
                            MPSNDArrayMinimum, MPSNDArrayMinimumPrimaryGradient,
                            MPSNDArrayMinimumSecondaryGradient, MPSNDArrayModulo,
                            MPSNDArrayModuloPrimaryGradient,
                            MPSNDArrayModuloSecondaryGradient,
                            MPSNDArrayMultiaryBase,
                            MPSNDArrayMultiaryGradientKernel,
                            MPSNDArrayMultiaryKernel, MPSNDArrayMultiplication,
                            MPSNDArrayMultiplicationPrimaryGradient,
                            MPSNDArrayMultiplicationSecondaryGradient,
                            MPSNDArrayNAND, MPSNDArrayNANDPrimaryGradient,
                            MPSNDArrayNANDSecondaryGradient, MPSNDArrayNOR,
                            MPSNDArrayNORPrimaryGradient,
                            MPSNDArrayNORSecondaryGradient, MPSNDArrayNOT,
                            MPSNDArrayNOTGradient, MPSNDArrayNegative,
                            MPSNDArrayNegativeGradient, MPSNDArrayNeuronGeLU,
                            MPSNDArrayNeuronGeLUGradient,
                            MPSNDArrayNeuronGradient, MPSNDArrayNeuronKernel,
                            MPSNDArrayNotEqual,
                            MPSNDArrayNotEqualPrimaryGradient,
                            MPSNDArrayNotEqualSecondaryGradient, MPSNDArrayOR,
                            MPSNDArrayORPrimaryGradient,
                            MPSNDArrayORSecondaryGradient,
                            MPSNDArrayPadGradientKernel, MPSNDArrayPadKernel,
                            MPSNDArrayPoolingKernel, MPSNDArrayPower,
                            MPSNDArrayPowerPrimaryGradient,
                            MPSNDArrayPowerSecondaryGradient,
                            MPSNDArrayReciprocal, MPSNDArrayReciprocalGradient,
                            MPSNDArrayReduction, MPSNDArrayReductionGradient,
                            MPSNDArrayReductionSum,
                            MPSNDArrayReductionSumGradient, MPSNDArrayResample,
                            MPSNDArrayResampleGradient,
                            MPSNDArrayReverseSquareRoot,
                            MPSNDArrayReverseSquareRootGradient, MPSNDArrayRint,
                            MPSNDArrayRintGradient, MPSNDArrayRound,
                            MPSNDArrayRoundGradient, MPSNDArrayScatter,
                            MPSNDArrayScatterGradient, MPSNDArraySelect,
                            MPSNDArraySelectPrimaryGradient,
                            MPSNDArraySelectSecondaryGradient,
                            MPSNDArraySelectTertiaryGradient, MPSNDArraySign,
                            MPSNDArraySignGradient, MPSNDArraySignbit,
                            MPSNDArraySignbitGradient, MPSNDArraySin,
                            MPSNDArraySinGradient, MPSNDArraySinh,
                            MPSNDArraySinhGradient, MPSNDArraySoftMax,
                            MPSNDArraySoftMaxGradient, MPSNDArraySquare,
                            MPSNDArraySquareGradient, MPSNDArraySquareRoot,
                            MPSNDArraySquareRootGradient, MPSNDArrayStridedSlice,
                            MPSNDArrayStridedSliceGradient,
                            MPSNDArraySubtraction,
                            MPSNDArraySubtractionPrimaryGradient,
                            MPSNDArraySubtractionSecondaryGradient,
                            MPSNDArrayTan, MPSNDArrayTanGradient, MPSNDArrayTanh,
                            MPSNDArrayTanhGradient, MPSNDArrayTileGradientKernel,
                            MPSNDArrayTileKernel, MPSNDArrayUnaryGradientKernel,
                            MPSNDArrayUnaryKernel, MPSNDArrayXNOR,
                            MPSNDArrayXNORPrimaryGradient,
                            MPSNDArrayXNORSecondaryGradient, MPSNDArrayXOR,
                            MPSNDArrayXORPrimaryGradient,
                            MPSNDArrayXORSecondaryGradient ]
    objc-ivars:           [ MPSNDArrayGatherGradientState._axis ]
undefineds:
  - archs:                [ armv7, armv7s, arm64, arm64e, i386, x86_64 ]
    symbols:              [ _MPSCreateFunctionConstantValues,
                            _MPSGetUIntDivisorMagicNumber,
                            _MPSGetUShortDivisorMagicNumber, _MTLReportFailure,
                            _MTLReportFailureTypeEnabled, _NSClassFromString,
                            _NSStringFromClass, _NSStringFromSelector,
                            __NSConcreteGlobalBlock, __Unwind_Resume,
                            __Z21MPSDecrementReadCountP19MPSTemporaryNDArray,
                            __ZN10BaseTensor16GetAccessPatternEP7NSArrayIP10MPSNDArrayES4_,
                            __ZN10MPSLibrary13ReleaseMPSKeyEP11MPSKey_data,
                            __ZN10MPSLibrary15GetComputeStateEjRK23MPSFunctionConstantList30MPSThreadGroupSizeMultipleType24MPSDriverCompilerOptions,
                            __ZN10MPSLibrary19CreateUberShaderKeyEP8NSStringRK23MPSFunctionConstantListyPFvPU21objcproto10MTLLibrary11objc_objectPK13MPSKernelInfoS4_U13block_pointerFvPU22objcproto11MTLFunction11objc_objectP7NSErrorEEy30MPSThreadGroupSizeMultipleType24MPSDriverCompilerOptionsP18MPSKernelDAGObject,
                            __ZN10MPSLibrary19ReleaseComputeStateEPU34objcproto23MTLComputePipelineState11objc_object,
                            __ZN10MPSLibrary25GetPipelineStateForMPSKeyEP11MPSKey_dataPU27objcproto16MTLCommandBuffer11objc_object,
                            __ZN12MPSAutoCache13GetTempBufferEmP15MTLSizeAndAlign,
                            __ZN12MPSAutoCacheC1EPU27objcproto16MTLCommandBuffer11objc_objectPU21objcproto10MTLTexture11objc_object,
                            __ZN12MPSAutoCacheD1Ev,
                            __ZN12MPSKernelDAG11unaryCoreOpEP10BaseTensorRKNSt3__16vectorIlNS2_9allocatorIlEEEE11MPSDataTypePKc,
                            __ZN12MPSKernelDAG12binaryCoreOpEP10BaseTensorS1_RKNSt3__16vectorIlNS2_9allocatorIlEEEE11MPSDataTypePKc,
                            __ZN12MPSKernelDAG13nullaryCoreOpERKNSt3__16vectorIlNS0_9allocatorIlEEEE11MPSDataTypePKc,
                            __ZN12MPSKernelDAG13placeholderOpERKNSt3__16vectorIlNS0_9allocatorIlEEEE11MPSDataTypePKc,
                            __ZN12MPSKernelDAG13ternaryCoreOpEP10BaseTensorS1_S1_RKNSt3__16vectorIlNS2_9allocatorIlEEEE11MPSDataTypePKc,
                            __ZN12MPSKernelDAG14quartaryCoreOpEP10BaseTensorS1_S1_S1_RKNSt3__16vectorIlNS2_9allocatorIlEEEE11MPSDataTypePKc,
                            __ZN12MPSKernelDAGC1ERKNSt3__16vectorIP10BaseTensorNS0_9allocatorIS3_EEEEPKc,
                            __ZNK10BaseTensor16GetDimensionSizeEj,
                            __ZNKSt3__119__shared_weak_count13__get_deleterERKSt9type_info,
                            __ZNKSt3__120__vector_base_commonILb1EE20__throw_length_errorEv,
                            __ZNKSt3__120__vector_base_commonILb1EE20__throw_out_of_rangeEv,
                            __ZNSt3__112basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKc,
                            __ZNSt3__112basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKcm,
                            __ZNSt3__119__shared_weak_count14__release_weakEv,
                            __ZNSt3__119__shared_weak_countD2Ev,
                            __ZNSt3__14stoiERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEEPmi,
                            __ZNSt3__19to_stringEm, __ZSt9terminatev,
                            ___CFConstantStringClassReference,
                            ___NSArray0__struct, ___assert_rtn, ___chkstk_darwin,
                            ___cxa_begin_catch, ___cxa_guard_acquire,
                            ___cxa_guard_release, ___gxx_personality_v0,
                            ___stack_chk_fail, ___stack_chk_guard,
                            __objc_empty_cache, _calloc, _free, _kdebug_trace, _malloc,
                            _memcpy, _memset_pattern16, _objc_alloc,
                            _objc_alloc_init, _objc_autorelease,
                            _objc_autoreleasePoolPop, _objc_autoreleasePoolPush,
                            _objc_msgSend, _objc_msgSendSuper2, _objc_opt_class,
                            _objc_opt_isKindOfClass, _objc_opt_new, _objc_release,
                            _objc_retain, _objc_setProperty_nonatomic, _strlen,
                            dyld_stub_binder ]
    objc-classes:         [ MPSComputeEncoder, MPSKernel, MPSKernelDAGObject,
                            MPSMatrix, MPSMatrixDescriptor,
                            MPSMatrixMultiplication, MPSNDArray,
                            MPSNDArrayDescriptor, MPSParallelRandom,
                            MPSParallelRandomDistributionDescriptor,
                            MPSParallelRandomMTGP32, MPSState, MPSTemporaryNDArray,
                            MPSWorkloadStatistics, NSArray, NSMutableArray, NSNull,
                            NSNumber, NSObject, NSString ]
    objc-ivars:           [ MPSKernel._device, MPSKernel._fileVersion,
                            MPSKernel._label, MPSKernel._library,
                            MPSKernel._options, MPSNDArray._dataType,
                            MPSNDArray._dimensionLengths,
                            MPSNDArray._dimensionOrder,
                            MPSNDArray._numberOfDimensions, MPSNDArray._offset,
                            MPSNDArray._rowBytes, MPSNDArray._sliceLengths,
                            MPSNDArray._sliceOffsets,
                            MPSNDArrayDescriptor._dimensionOrder ]
...
